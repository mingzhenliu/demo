# /speckit.tasks 知识库注入模板

> 用于在执行 /speckit.tasks 命令时注入相关知识库文档

## 知识库上下文

### 模块结构 (L2)

以下是本仓库的模块结构定义，任务中的文件路径必须符合此结构：

```json
{MODULE_TREE_CONTENT}
```

**路径约束**：
- 任务中的文件路径必须符合模块结构
- 新增文件需放置在正确的模块目录下
- 跨模块依赖需在任务描述中明确标注

---

### 仓库概览 (L2)

以下是本仓库的概览信息：

```markdown
{OVERVIEW_CONTENT}
```

---

## 任务生成约束

### 文件路径验证

生成任务时，需验证文件路径的合理性：

1. **目录存在性**：目标目录是否在模块结构中存在
2. **命名一致性**：文件命名是否符合模块命名约定
3. **位置合理性**：文件是否放置在正确的模块下

### 任务依赖排序

任务生成需考虑以下依赖关系：

1. **测试优先**：TDD 模式下，测试任务应先于实现任务
2. **基础先行**：基础设施任务应先于业务逻辑任务
3. **接口先行**：接口定义任务应先于实现任务

### 任务粒度

- 每个任务应该是原子性的，可独立执行
- 任务估算时间应在 1-4 小时范围内
- 过大的任务需拆分为子任务

---

## 任务模板参考

```markdown
## Task [N]: [任务标题]

**目标**: [任务目标描述]

**文件**:
- `path/to/file.ts` - [文件用途]

**验收标准**:
- [ ] 条件 1
- [ ] 条件 2

**依赖**:
- Task [M]: [依赖任务]

**估算**: [N] 小时
```

---

## 加载状态

| 文档 | 级别 | 状态 | Token |
|------|------|------|-------|
| module_tree.json | L2 | {MODULE_TREE_STATUS} | {MODULE_TREE_TOKENS} |
| overview.md | L2 | {OVERVIEW_STATUS} | {OVERVIEW_TOKENS} |

**总计 Token**: {TOTAL_TOKENS}
